# Copilot Instructions (Fallback)

These instructions are the **fallback** for Copilot clients that do not load `.github/instructions/*.instructions.md`.

## Preferred detailed instruction files (for clients that support them)

When supported, apply the rules in:

- `.github/instructions/copilot-unity.instructions.md` (Unity C# + Editor generation rules)
- `.github/instructions/unity-content-generation.instructions.md` (content/asset generation constraints)
- `.github/instructions/unity-cookbook.instructions.md` (implementation patterns / recipes)

If there is any conflict, prefer:
1) `copilot-unity.instructions.md`
2) `unity-content-generation.instructions.md`
3) `unity-cookbook.instructions.md`

## Mandatory rules (must be followed even if other instruction files are not loaded)

### Unity scenes/assets are generated by code
- Treat C# code as the source of truth.
- Do **not** directly edit serialized Unity YAML files such as `.unity`, `.prefab`, `.asset`.

### Editor scripting + batchmode compatibility
- Prefer writing **Editor scripts** that create/modify scenes, prefabs, and assets using Unity Editor APIs:
  - `EditorSceneManager`, `AssetDatabase`, `PrefabUtility`, `ScriptableObject.CreateInstance<T>()`, etc.
- Any scene/asset generation must be runnable headlessly via command line, e.g.:

```bash
Unity -quit -batchmode -projectPath <PROJECT_PATH> -executeMethod <Namespace.Class.Method>
```

### Unity C# coding standards
- Runtime code must not depend on `UnityEditor`.
- Prefer composition over inheritance.
- Avoid `FindObjectOfType`; cache references.
- Use `[SerializeField]` for Unity-exposed fields.

## Output expectations
- Provide clear, actionable steps and code.
- If proposing editor generation, include the method/class name to run via `-executeMethod`.
